$(function(){function e(e){return function(t,n,s,a){C=!0;var i=t.get_prompt(),r=0;if(n.length>0)var o=setInterval(function(){t.insert(n[r++]),r==n.length&&(clearInterval(o),setTimeout(function(){e(t,n,i),C=!1,a&&a()},s))},s)}}function t(e){e.echo("<div style='width:100%;float: left;text-align: left;' id='greeting'><div style=' font-weight: bold;width:100%;white-space:nowrap;float:left;line-height: 7px;font-size: 7px;color: #2FD4CE;padding-left:5px;' id='ascii'>_________<span style='color:transparent;'>__</span>_______<span style='color:transparent;'>___</span>________<span style='color:transparent;'>__</span>________<span style='color:transparent;'>__</span>___<span style='color:transparent;'>__</span>_________<span style='color:transparent;'>________</span>________<span style='color:transparent;'>__</span>___<span style='color:transparent;'>__</span>___<span style='color:transparent;'>__</span>_______<span style='color:transparent;'>___</span>___<span style='color:transparent;'>_______</span>___<span style='color:transparent;'>__________</span><br /><span style='color:transparent;'><span style='color:#fff;' id='asciitext'>|\\_______\\|\\______\\_|\\_______\\|\\_______\\|\\__\\|\\_________\\</span></span><span style='color:transparent;'>_____</span><span style='color:#fff;' id='asciitext'>|\\_______\\|\\__\\|\\__\\|\\______\\_|\\__\\<span style='color:transparent;'>_____</span>|\\__\\</span><span style='color:transparent;'>_________</span><br /><span style='color:transparent;'><span style='color:#fff;' id='asciitext'>\\_\\__\\|\\__\\_\\_____/|\\_\\__\\_|\\_\\_\\__\\_|\\_\\_\\__\\|____\\__\\_|</span></span><span style='color:transparent;'>_____</span><span style='color:#fff;' id='asciitext'>\\_\\__\\___|\\_\\__\\\\\\__\\_\\_____/|\\_\\__\\<span style='color:transparent;'>____</span>\\_\\__\\</span><span style='color:transparent;'>________</span><br /><span style='color:transparent;'>_</span><span style='color:#fff;' id='asciitext'>\\_\\_______\\_\\__\\_|/_\\_\\__\\_\\\\_\\_\\__\\_\\\\_\\_\\__\\</span></span><span style='color:transparent;'>___</span><span style='color:#fff;' id='asciitext'>\\_\\__\\</span><span style='color:transparent;'>_______</span><span style='color:#fff;' id='asciitext'>\\_\\_______\\_\\_______\\_\\__\\_|/_\\_\\__\\<span style='color:transparent'>____</span>\\_\\__\\</span><span style='color:transparent;'>_______</span><br /><span style='color:transparent;'>__<span style='color:#fff;' id='asciitext'>\\_\\__\\\\__\\\\_\\__\\_|\\_\\_\\__\\_\\\\_\\_\\__\\_\\\\_\\_\\__\\</span></span><span style='color:transparent;'>___</span><span style='color:#fff;' id='asciitext'>\\_\\__\\</span><span style='color:transparent;'>_______</span><span style='color:#fff;' id='asciitext'>\\|____|\\__\\_\\__\\_\\__\\_\\__\\_|\\_\\_\\__\\____\\_\\__\\</span><span style='color:#fff;' id='asciitext'>_____</span><br /><span style='color:transparent;'>___<span style='color:#fff;' id='asciitext'>\\_\\__\\\\__\\\\_\\_______\\_\\_______\\_\\_______\\_\\__\\</span></span><span style='color:transparent;'>___</span><span style='color:#fff;' id='asciitext'>\\_\\__\\</span><span style='color:transparent;'></span><span style='color:transparent;'>_______</span><span style='color:#fff;' id='asciitext'>_____<span style='color:#fff;' id='asciitext'>\\_\\__\\_\\__\\_\\__\\_\\_______\\_\\_______\\_\\_______\\</span></span><br /><span style='color:transparent;'>____<span style='color:#fff;' id='asciitext'>\\|__|\\|__|\\|_______|\\|_______|\\|_______|\\|__|</span></span><span style='color:transparent;'>____</span><span style='color:#fff;' id='asciitext'>\\|__|</span><span style='color:transparent;'>_______</span><span style='color:#fff;' id='asciitext'>|\\_________\\|__|\\|__|\\|_______|\\|_______|\\|_______|</span><br /><span style='color:transparent;'>_________________________________________________________________</span><span style='color:#fff;' id='asciitext'>\\|_________|</span><span style='color:transparent;'>_______________________________________</span><br /><span style='color:transparent;'>____________________________________________________________________________________________________________________</span></div><p/>reddit shell: web based shell emulator for browsing reddit <br />via command line - by <a href='http://jasonb.io/' target='_blank'>jason botello</a> - <a href='https://github.com/jasonbio/reddit-shell' target='_blank'>fork this project on GitHub</a><p /><strong>list [next|previous]</strong> list posts from the front page and navigate results<br /><strong>list [subreddit] [next|previous]</strong> list posts from the specified subreddit and navigate results<br /><strong>list subreddits [next|previous]</strong> list all subreddits on reddit and navigate results<br /><strong>view content [index]</strong> open the post content URL in a new window<br /> <strong>view comments [index]</strong> view the comment tree for the specified post index<br /><strong>view more comments</strong> load more base comments from the post<br /><strong>view more comments [index]</strong> view comment tree for the specified comment index<br /> <strong>search [search term]</strong> search reddit for something specific<br /><strong>user [username] [next|previous]</strong> get all comments and posts for the specified user and navigate results<br /><strong>login</strong> redirect to reddit.com to authenticate<br /><strong>upvote [index]</strong> upvote the specified post or comment index<br /><strong>downvote [index]</strong> downvote the specified post or comment index<br /><strong>post comment [text]</strong> post a comment to the current post<br /><strong>post reply [index] [text]</strong> post a reply to the specified comment index<br /><strong>logout</strong> de-authenticates the current user<br /><strong>settings images [on|off]</strong> set inline image display on or off<br /><strong>settings limit [auto|1-100]</strong> set the limit on number of posts/comments returned<br /><strong>help, about, clear</strong> display detailed instructions, show credits, clear screen output<p />sort subreddit listings <strong>[new|rising|top|controversial]</strong><br />sort comment views <Strong>[confidence|top|new|hot|controversial|old|random|qa]</strong><p /></div>",{raw:!0})}function n(e){e.echo("<div style='width:100%;float: left;text-align: left;margin-top: 10px;padding-bottom: 10px;' id='greeting'><div style=' font-weight: bold;width:100%;white-space:nowrap;float:left;line-height: 7px;font-size: 7px;color: #2FD4CE;padding-left:5px;' id='ascii'>_________<span style='color:transparent;'>__</span>_______<span style='color:transparent;'>___</span>________<span style='color:transparent;'>__</span>________<span style='color:transparent;'>__</span>___<span style='color:transparent;'>__</span>_________<span style='color:transparent;'>________</span>________<span style='color:transparent;'>__</span>___<span style='color:transparent;'>__</span>___<span style='color:transparent;'>__</span>_______<span style='color:transparent;'>___</span>___<span style='color:transparent;'>_______</span>___<span style='color:transparent;'>__________</span><br /><span style='color:transparent;'><span style='color:#fff;' id='asciitext'>|\\_______\\|\\______\\_|\\_______\\|\\_______\\|\\__\\|\\_________\\</span></span><span style='color:transparent;'>_____</span><span style='color:#fff;' id='asciitext'>|\\_______\\|\\__\\|\\__\\|\\______\\_|\\__\\<span style='color:transparent;'>_____</span>|\\__\\</span><span style='color:transparent;'>_________</span><br /><span style='color:transparent;'><span style='color:#fff;' id='asciitext'>\\_\\__\\|\\__\\_\\_____/|\\_\\__\\_|\\_\\_\\__\\_|\\_\\_\\__\\|____\\__\\_|</span></span><span style='color:transparent;'>_____</span><span style='color:#fff;' id='asciitext'>\\_\\__\\___|\\_\\__\\\\\\__\\_\\_____/|\\_\\__\\<span style='color:transparent;'>____</span>\\_\\__\\</span><span style='color:transparent;'>________</span><br /><span style='color:transparent;'>_</span><span style='color:#fff;' id='asciitext'>\\_\\_______\\_\\__\\_|/_\\_\\__\\_\\\\_\\_\\__\\_\\\\_\\_\\__\\</span></span><span style='color:transparent;'>___</span><span style='color:#fff;' id='asciitext'>\\_\\__\\</span><span style='color:transparent;'>_______</span><span style='color:#fff;' id='asciitext'>\\_\\_______\\_\\_______\\_\\__\\_|/_\\_\\__\\<span style='color:transparent'>____</span>\\_\\__\\</span><span style='color:transparent;'>_______</span><br /><span style='color:transparent;'>__<span style='color:#fff;' id='asciitext'>\\_\\__\\\\__\\\\_\\__\\_|\\_\\_\\__\\_\\\\_\\_\\__\\_\\\\_\\_\\__\\</span></span><span style='color:transparent;'>___</span><span style='color:#fff;' id='asciitext'>\\_\\__\\</span><span style='color:transparent;'>_______</span><span style='color:#fff;' id='asciitext'>\\|____|\\__\\_\\__\\_\\__\\_\\__\\_|\\_\\_\\__\\____\\_\\__\\</span><span style='color:#fff;' id='asciitext'>_____</span><br /><span style='color:transparent;'>___<span style='color:#fff;' id='asciitext'>\\_\\__\\\\__\\\\_\\_______\\_\\_______\\_\\_______\\_\\__\\</span></span><span style='color:transparent;'>___</span><span style='color:#fff;' id='asciitext'>\\_\\__\\</span><span style='color:transparent;'></span><span style='color:transparent;'>_______</span><span style='color:#fff;' id='asciitext'>_____<span style='color:#fff;' id='asciitext'>\\_\\__\\_\\__\\_\\__\\_\\_______\\_\\_______\\_\\_______\\</span></span><br /><span style='color:transparent;'>____<span style='color:#fff;' id='asciitext'>\\|__|\\|__|\\|_______|\\|_______|\\|_______|\\|__|</span></span><span style='color:transparent;'>____</span><span style='color:#fff;' id='asciitext'>\\|__|</span><span style='color:transparent;'>_______</span><span style='color:#fff;' id='asciitext'>|\\_________\\|__|\\|__|\\|_______|\\|_______|\\|_______|</span><br /><span style='color:transparent;'>_________________________________________________________________</span><span style='color:#fff;' id='asciitext'>\\|_________|</span><span style='color:transparent;'>_______________________________________</span><br /><span style='color:transparent;'>____________________________________________________________________________________________________________________</span></div><p/>reddit shell is a web based linux shell emulator written in JavaScript <br />that lets you browse and interact with reddit via command line<p />reddit shell is developed and maintained by <a href='http://jasonb.io/' target='_blank'>jason botello</a> and was first <br />published on 9/5/2015. You can help contribute to the project on <a href='https://github.com/jasonbio/reddit-shell' target='_blank'>GitHub</a><p />reddit shell makes use of the following JS libraries:<br />- <a href='http://terminal.jcubic.pl/' target='_blank'>JQuery Terminal</a><br />- <a href='https://github.com/showdownjs/showdown' target='_blank'>Showdown</a><br />- <a href='http://momentjs.com/' target='_blank'>Moment.js</a><br />- <a href='https://github.com/showdownjs/showdown' target='_blank'>Showdown</a></div>",{raw:!0})}function s(e){e.echo('<article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1><a id="user-content-reddit-shell" class="anchor" href="#reddit-shell" aria-hidden="true"><span class="octicon octicon-link"></span></a>reddit shell</h1><p>reddit shell is a web based linux shell emulator written in JavaScript that lets you browse and interact with reddit via command line <a href="https://redditshell.com/">https://redditshell.com/</a></p><p><strong>Features</strong></p><ul><li>Browse public subreddits, posts, comments, and users.</li><li>Iterate through comment chains and post indexes.</li><li>Scope-based tabbed auto-completion of commands, subreddit names, and usernames (double tab for list view)</li><li>Search for posts, comments, and users.</li><li>Login authentication via OAuth 2</li><li>Upvote/downvote posts and comments</li><li>Comment/reply posts and comments</li><li>Display inline images for image posts <code># set img on</code></li><li>Change limit on number of retrieved posts, comments <code># set limit [auto|1-100]</code></li><li>Command format exceptions that cover most preferences</li></ul><p><strong>Future TO-DO</strong></p><ul><li>more logged in user actions</li><li>multireddit views</li></ul><p><strong>Example Commands</strong></p><ul><li><code># ls</code> - list posts from the frontpage</li><li><code># ls funny top</code> - lists posts from /r/funny sorted by top rated</li><li><code># cd ..</code> - go back to frontpage listings</li><li><code># view comments 3</code> - views comments for the specified post index</li><li><code># view more comments</code> - load more comments for current post scope</li></ul><h2><a id="user-content-commands" class="anchor" href="#commands" aria-hidden="true"><span class="octicon octicon-link"></span></a>Commands</h2><ul><li><strong>list</strong><ul><li>Aliases: <strong>ls, cd</strong></li><li>Options:<ul><li><strong>[next|previous]</strong> - can only be used on result set</li><li><strong>[subreddit] [new|rising|top|controversial]</strong> - sort applies to subreddits only (not frontpage)</li><li><strong>[subreddit] [next|previous]</strong> - can only be used on result set</li><li><strong>[..|-|~/]</strong> - common directory nav commands - can only be used with the "cd" alias</li></ul></li><li>Description: list posts from the the specified subreddit or the front page if no subreddit specified and sorts by optional new, rising, top, controversial. Use the "cd" alias to forwards and backwards with the [..|-|~/] options</li></ul></li><li><strong>list subreddits</strong><ul><li>Aliases: <strong>[ls, cd], subs</strong> </li><li>Options:<ul><li><strong>[next|previous]</strong> - can only be used on result set</li></ul></li><li>Description: list all public subreddits available on reddit</li></ul></li><li><strong>view content</strong><ul><li>Options:<ul><li><strong>[index]</strong> - can only be used on result set</li></ul></li><li>Description: opens the permalink of the specified post index in a new window.</li></ul></li><li><strong>view comments</strong><ul><li>Options:<ul><li><strong>[index] [confidence|top|new|hot|controversial|old|random|qa]</strong> - can only be used on result set</li></ul></li><li>Description: loads the comments of the specified post index.</li></ul></li><li><strong>view more comments</strong><ul><li>Options:<ul><li><strong>[index] [confidence|top|new|hot|controversial|old|random|qa]</strong> - can only be used on result set</li></ul></li><li>Description: Loads more comments from the post scope if no index is given and there are posts to load, otherwise loads the specified comment tree for the index given.</li></ul></li><li><strong>search</strong><ul><li>Options:<ul><li><strong>[search term]</strong></li><li><strong>[next|previous]</strong> - can only be used on result set</li></ul></li><li>Description: Searches reddit for the specified search term.</li></ul></li><li><strong>user</strong><ul><li>Options:<ul><li><strong>[username]</strong></li><li><strong>[username] [next|previous]</strong> - can only be used on result set</li></ul></li><li>Description: Loads all public comments and posts the specified user has made</li></ul></li><li><strong>login</strong><ul><li>Description: redirects your browser to reddit.com and requests permission for reddit shell to load and use user data</li></ul></li><li><strong>upvote</strong><ul><li>Options:<ul><li><strong>[index]</strong></li></ul></li><li>Description: Upvotes the specified post or comment index</li></ul></li><li><strong>downvote</strong><ul><li>Options:<ul><li><strong>[index]</strong></li></ul></li><li>Description: Downvotes the specified post or comment index</li></ul></li><li><strong>post comment</strong><ul><li>Options:<ul><li><strong>[text]</strong> - can only be used on view comments result set</li></ul></li><li>Description: Post a comment to the current post in scope</li></ul></li><li><strong>post reply</strong><ul><li>Options:<ul><li><strong>[index] [text]</strong> - can only be used on view comments or view more comments result set</li></ul></li><li>Description: Post a reply to the specified comment index</li></ul></li><li><strong>logout</strong><ul><li>Description: De-authenticates the currently logged in user </li></ul></li><li><strong>settings</strong><ul><li>Aliases: <strong>set</strong></li><li>Options:<ul><li><strong>[images] [on|off]</strong><ul><li>Aliases: <strong>img</strong></li></ul></li><li><strong>[limit] [auto|1-100]</strong></li></ul></li><li>Description: Changes settings for user preference. Turning images on will show the thumbnail for all image posts. Limit decides how many results to return for posts and comments. "auto" picks the best limit for your screen resolution without having to scroll (unless viewing a nested comment tree)</li></ul></li><li><strong>pwd</strong><ul><li>Description: Prints working directory</li></ul></li><li><strong>clear</strong><ul><li>Description: Clears the screen</li></ul></li><li><strong>about</strong><ul><li>Description: Displays project info and credits</li></ul></li><li><strong>help</strong><ul><li>Aliases: <strong>cat readme</strong></li><li>Description: Displays more detailed instructions</li></ul></li></ul><p><strong>Libraries</strong></p><ul><li><a href="https://jquery.com/">jQuery</a></li><li><a href="https://github.com/showdownjs/showdown">Showdown</a></li><li><a href="http://terminal.jcubic.pl/">JQuery Terminal</a></li><li><a href="http://momentjs.com/">Moment.js</a></li></ul></article>',{raw:!0})}{var a=!1,i="guest",r=[],o=[],d=[],l=[],_=[],p=[],m=0,c="",u="",h="",f="",b="",y="",g="",w="",x="/",v=!1,k=0,j=0,A=0,O=0,C=!1,B=!1,F=$(window.top).height(),N="limit="+(Math.round(F/54)-3)+"&",S="auto ("+(Math.round(F/54)-3)+")",T=["help","about","clear","settings","login","more","comments","content","user","search","view","previous","prev","next","subreddits","list","reddit"],D=["help","about","clear","settings","login","more","comments","content","user","search","view","previous","prev","next","subreddits","list","reddit"],H=new showdown.Converter;e(function(e,t){e.set_command(""),e.set_prompt(t+" ")}),e(function(e,t,n){e.set_command(""),e.echo(t),e.set_prompt(n)})}$("body").terminal(function(e,t){t.pause(),("cd .."==e||"cd -"==e)&&(m>1?(e=p[m-2].join(" "),m-=2):(p=[],e="list")),"ls"==e&&""!=c||"cd"==e&&""!=c?e=c:"ls"==e&&""==c&&(e="list");var C="";if(e=$.trim(e),e=e.replace(/[\[\]']+/g,""),e=e.replace(/cd (\/?r?\/)?/g,"cd "),e=e.replace("cd ~/","list"),e=e.replace("../",""),e=e.replace("cd ./","ls"),command=e.split(" "),"reddit"!=command[0]&&command.unshift("reddit"),"ls"==command[1]&&(command[1]="list"),"cd"==command[1]&&(command[1]="list"),"prev"==command[2]&&(command[2]="previous"),"subs"==command[2]&&(command[2]="subreddits"),"prev"==command[3]&&(command[3]="previous"),"set"==command[1]&&(command[1]="settings"),"reddit"!=command[0]||"list"!=command[1]||command[2])if("reddit"!=command[0]||"list"!=command[1]||"next"!=command[2]||command[3])if("reddit"!=command[0]||"list"!=command[1]||"previous"!=command[2]||command[3])if("reddit"!=command[0]||"list"!=command[1]||"subreddits"!=command[2]||command[3])if("reddit"==command[0]&&"list"==command[1]&&"subreddits"==command[2]&&"next"==command[3])v=!1,$.getJSON(u,function(e){h="",D=T,v=!0;var n=e.data.children;$(n).each(function(){void 0!=this.data&&(url=this.data.url,display_name=this.data.display_name,D.push(display_name),title=this.data.title,line1="<div style='width:100%;float:left;'><span id='index'>[<span style='color: #2C9A96;'>"+A+"</span>]</span> <a href='https://reddit.com"+url+"' target='_blank'>/r/"+display_name+" - "+title+"</a><br />",description=this.data.public_description,line2="<span style='color: #666;'>"+description+"</span><br />",subscribers=this.data.subscribers,created=this.data.created_utc,time=moment.unix(created).fromNow(),line3="<span style='color: #666;'>"+subscribers+" subscribers since starting "+time+"</span><p />",C=line1+line2+line3+"</div>",A+=1,t.echo(C,{raw:!0}))});var s=e.data.after,a=e.data.before;null!=a&&(permalink="https://www.reddit.com/subreddits/.json?"+N+"count="+A+"&before="+a+"&jsonp=?",h=permalink,previous_line="<span><span id='index'>[<span style='color: #B3A600;'>previous</span>]</span><p />",t.echo(previous_line,{raw:!0})),null!=s&&(permalink="https://www.reddit.com/subreddits/.json?"+N+"count="+A+"&after="+s+"&jsonp=?",u=permalink,next_line="<span><span id='index'>[<span style='color: #B3A600;'>next</span>]</span><p />",t.echo(next_line,{raw:!0})),D=D.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),t.set_prompt(i+"@reddit:~/subreddits$ "),t.resume(),c=command.join(" ")}),setTimeout(function(){v||(t.resume(),t.echo("<span style='color: #FF6868;'>error fetching data from reddit</span>",{raw:!0}))},1e4);else if("reddit"==command[0]&&"list"==command[1]&&"subreddits"==command[2]&&"previous"==command[3])v=!1,$.getJSON(h,function(e){u="",D=T,v=!0;var n=e.data.children;$(n).each(function(){void 0!=this.data&&(url=this.data.url,display_name=this.data.display_name,D.push(display_name),title=this.data.title,line1="<div style='width:100%;float:left;'><span id='index'>[<span style='color: #2C9A96;'>"+A+"</span>]</span> <a href='https://reddit.com"+url+"' target='_blank'>/r/"+display_name+" - "+title+"</a><br />",description=this.data.public_description,line2="<span style='color: #666;'>"+description+"</span><br />",subscribers=this.data.subscribers,created=this.data.created_utc,time=moment.unix(created).fromNow(),line3="<span style='color: #666;'>"+subscribers+" subscribers since starting "+time+"</span><p />",C=line1+line2+line3+"</div>",A-=1,t.echo(C,{raw:!0}))});var s=e.data.after,a=e.data.before;null!=a&&(permalink="https://www.reddit.com/subreddits/.json?"+N+"count="+A+"&before="+a+"&jsonp=?",h=permalink,previous_line="<span><span id='index'>[<span style='color: #B3A600;'>previous</span>]</span><p />",t.echo(previous_line,{raw:!0})),null!=s&&(permalink="https://www.reddit.com/subreddits/.json?"+N+"count="+A+"&after="+s+"&jsonp=?",u=permalink,next_line="<span><span id='index'>[<span style='color: #B3A600;'>next</span>]</span><p />",t.echo(next_line,{raw:!0})),D=D.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),t.set_prompt(i+"@reddit:~/subreddits$ "),t.resume(),c=command.join(" ")}),setTimeout(function(){v||(t.resume(),t.echo("<span style='color: #FF6868;'>error fetching data from reddit</span>",{raw:!0}))},1e4);else if("reddit"==command[0]&&"list"==command[1]&&command[2]&&"next"!=command[2]&&"previous"!=command[2]&&!command[3]||"reddit"==command[0]&&"list"==command[1]&&command[2]&&"next"!=command[2]&&"previous"!=command[2]&&"new"==command[3]||"reddit"==command[0]&&"list"==command[1]&&command[2]&&"next"!=command[2]&&"previous"!=command[2]&&"top"==command[3]||"reddit"==command[0]&&"list"==command[1]&&command[2]&&"next"!=command[2]&&"previous"!=command[2]&&"controversial"==command[3]||"reddit"==command[0]&&"list"==command[1]&&command[2]&&"next"!=command[2]&&"previous"!=command[2]&&"rising"==command[3])f="",v=!1,command[3]&&(f=command[3]+"/"),D=T,$.getJSON("https://www.reddit.com/r/"+command[2]+"/"+f+".json?"+N+"jsonp=?",function(e){r=[],o=[],d=[],l=[],_=[],u="",h="",b="",y="",g="",w="",k=0,j=0,A=0,O=0,v=!0;var n=e.data.children;$(n).each(function(){void 0!=this.data&&(permalink="https://reddit.com"+this.data.permalink,url=this.data.url,l.push(url),r.push(permalink),fullname=this.data.name,_.push(fullname),title=this.data.title,domain=this.data.domain,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,x="/r/"+subreddit,line1=url?"<div style='width:100%;float:left;'><span id='index'>[<span style='color: #2C9A96;'>"+k+"</span>]</span> <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&B&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,D.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",C=line1+line2+line3+"</div>",k+=1,t.echo(C,{raw:!0}))});var s=e.data.after,a=e.data.before;null!=a&&(permalink="https://www.reddit.com/r/"+command[2]+"/"+f+".json?"+N+"count="+k+"&before="+a+"&jsonp=?",h=permalink,previous_line="<span><span id='index'>[<span style='color: #B3A600;'>previous</span>]</span><p />",t.echo(previous_line,{raw:!0})),null!=s&&(permalink="https://www.reddit.com/r/"+command[2]+"/"+f+".json?"+N+"count="+k+"&after="+s+"&jsonp=?",u=permalink,next_line="<span><span id='index'>[<span style='color: #B3A600;'>next</span>]</span><p />",t.echo(next_line,{raw:!0})),D=D.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),p.push(command),m+=1,c=command.join(" "),t.set_prompt(i+"@reddit:~/r/"+subreddit+"$ "),t.resume()}),setTimeout(function(){v||(t.resume(),t.echo("<span style='color: #FF6868;'>error fetching data from reddit</span>",{raw:!0}))},1e4);else if("reddit"==command[0]&&"list"==command[1]&&command[2]&&"next"==command[3])v=!1,$.getJSON(u,function(e){v=!0,h="",D=T;var n=e.data.children;$(n).each(function(){void 0!=this.data&&(permalink="https://reddit.com"+this.data.permalink,url=this.data.url,l.push(url),r.push(permalink),fullname=this.data.name,_.push(fullname),title=this.data.title,domain=this.data.domain,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,line1=url?"<div style='width:100%;float:left;'><span id='index'>[<span style='color: #2C9A96;'>"+k+"</span>]</span> <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&B&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,D.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",C=line1+line2+line3+"</div>",k+=1,t.echo(C,{raw:!0}))});var s=e.data.after,a=e.data.before;null!=a&&(permalink="https://www.reddit.com/r/"+command[2]+"/.json?"+N+"count="+k+"&before="+a+"&jsonp=?",h=permalink,previous_line="<span><span id='index'>[<span style='color: #B3A600;'>previous</span>]</span><p />",t.echo(previous_line,{raw:!0})),null!=s&&(permalink="https://www.reddit.com/r/"+command[2]+"/.json?"+N+"count="+k+"&after="+s+"&jsonp=?",u=permalink,next_line="<span><span id='index'>[<span style='color: #B3A600;'>next</span>]</span><p />",t.echo(next_line,{raw:!0})),D=D.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),c=command.join(" "),t.set_prompt(i+"@reddit:~/r/"+subreddit+"$ "),t.resume()}),setTimeout(function(){v||(t.resume(),t.echo("<span style='color: #FF6868;'>error fetching data from reddit</span>",{raw:!0}))},1e4);else if("reddit"==command[0]&&"list"==command[1]&&command[2]&&"previous"==command[3])v=!1,$.getJSON(h,function(n){u="",D=T,v=!0;var s=n.data.children;$(s).each(function(){void 0!=this.data&&(permalink="https://reddit.com"+this.data.permalink+".json?jsonp=?",url=this.data.url,l.push(url),r.push(permalink),fullname=this.data.name,_.push(fullname),title=this.data.title,domain=this.data.domain,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,line1=url?"<div style='width:100%;float:left;'><span id='index'>[<span style='color: #2C9A96;'>"+k+"</span>]</span> <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&B&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,D.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",C=line1+line2+line3+"</div>",k-=1,t.echo(C,{raw:!0}))});var a=n.data.after,o=n.data.before;null!=o&&(permalink="https://www.reddit.com/r/"+command[2]+"/.json?"+N+"count="+k+"&before="+o+"&jsonp=?",h=permalink,previous_line="<span><span id='index'>[<span style='color: #B3A600;'>previous</span>]</span><p />",t.echo(previous_line,{raw:!0})),null!=a&&(permalink="https://www.reddit.com/r/"+command[2]+"/.json?"+N+"count="+k+"&after="+a+"&jsonp=?",u=permalink,next_line="<span><span id='index'>[<span style='color: #B3A600;'>next</span>]</span><p />",t.echo(next_line,{raw:!0})),D=D.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),p.push(e),m+=1,c=command.join(" "),t.set_prompt(i+"@reddit:~/r/"+subreddit+"$ "),t.resume()}),setTimeout(function(){v||(t.resume(),t.echo("<span style='color: #FF6868;'>error fetching data from reddit</span>",{raw:!0}))},1e4);else if(0!==r.length&&"reddit"==command[0]&&"view"==command[1]&&"comments"==command[2]&&"more"!==command[3])f=command[4]?"sort="+command[4]+"&":"",v=!1,y=r[command[3]],$.getJSON(r[command[3]]+".json?"+N+f+"jsonp=?",function(e){o=[],_=[],w="",j=0,b="",D=T,v=!0;var n=e[0].data.children;$(n).each(function(){"t3"==this.kind&&(author=this.data.author,D.push(author),created=this.data.created_utc,time=moment.unix(created).fromNow(),ups=this.data.ups,id=this.data.id,w=this.data.name,title=this.data.title,domain=this.data.domain,subreddit=this.data.subreddit,x="/r/"+subreddit+"/comments",url=this.data.url,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,line1=url?"<div style=' width: 100%;float: left;background-color: rgba(8, 171, 159, 0.14);padding: 10px;padding-bottom: 0px;margin-top: 10px;margin-bottom: 10px;'><a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&B&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),this.data.selftext&&(line1=line1+"<span style='color:#fff;padding: 10px;' id='text-body'>"+H.makeHtml(this.data.selftext)+"</span><br />"),line2="<span>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span>"+ups+" upvotes with "+num_comments+" comments</span><p/>",C=line1+line2+line3+"</div>",g=line1+line2+line3+"</div>",t.echo(C,{raw:!0}))});var s=e[1].data.children;$(s).each(function(){if("t1"==this.kind){var e="";if(author=this.data.author,D.push(author),fullname=this.data.name,_.push(fullname),body=H.makeHtml(this.data.body),created=this.data.created_utc,time=moment.unix(created).fromNow(),subreddit=this.data.subreddit,ups=this.data.ups,id=this.data.id,""!=this.data.replies){nested_count=this.data.replies.data.children.length,line1="<div style='width:100%'><span id='index'>[<span style='color: #2C9A96;'>"+j+"</span>]</span> <span id='text-body'>"+body+"</span><br />",line2="<span style='color: #666;'>posted "+time+" by "+author+" to /r/"+subreddit+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes with "+nested_count+" replies</span><p />",comment_url=y+id,o.push(comment_url),e=line1+line2+line3,t.echo(e,{raw:!0}),j+=1;for(var n=0,s=this.data.replies.data.children.length;s>n;n++)"t1"==this.data.replies.data.children[n].kind&&(nested_author=this.data.replies.data.children[n].data.author,nested_body=H.makeHtml(this.data.replies.data.children[n].data.body),nested_created=this.data.replies.data.children[n].data.created_utc,nested_time=moment.unix(nested_created).fromNow(),nested_ups=this.data.replies.data.children[n].data.ups,nested_count=this.data.replies.data.children[n].data.count,nested_id=this.data.replies.data.children[n].data.id,nested_fullname=this.data.replies.data.children[n].data.id.name,_.push(nested_fullname),""!=this.data.replies.data.children[n].data.replies?(nested_count=this.data.replies.data.children[n].data.replies.data.children.length,nest_line1="<div style='margin-left:5%;'><span id='index'>[<span style='color: #2C9A96;'>"+j+"</span>]</span> <span id='text-body'>"+nested_body+"</span><br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes with "+nested_count+" replies</span><p/>",nested_url=y+nested_id,o.push(nested_url),j+=1,e=nest_line1+nest_line2+nest_line3,t.echo(e,{raw:!0})):(nested_count=0,nest_line1="<div style='margin-left:5%;'><span id='index'>[<span style='color: #2C9A96;'>"+j+"</span>]</span> <span id='text-body'>"+nested_body+"</span><br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes with "+nested_count+" replies</span><p/>",nested_url=y+nested_id,o.push(nested_url),j+=1,e=nest_line1+nest_line2+nest_line3,t.echo(e,{raw:!0})))
}else nested_count=0,line1="<div style='width:100%'><span id='index'>[<span style='color: #2C9A96;'>"+j+"</span>]</span> <span id='text-body'>"+body+"</span><br />",line2="<span style='color: #666;'>posted "+time+" by "+author+" to /r/"+subreddit+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes with "+nested_count+" replies</span><p />",comment_url=y+id,o.push(comment_url),j+=1,e=line1+line2+line3,t.echo(e,{raw:!0})}else if("more"==this.kind){morecount=this.data.count,morename=this.data.name,moreparent=this.data.parent_id,children="";for(var n=0,s=this.data.children.length;s>n;n++)children=children+this.data.children[n]+",";children=children.replace(/(^,)|(,$)/g,""),b="https://www.reddit.com/api/morechildren.json?"+N+f+"link_id="+moreparent+"&children="+children+"&id="+morename+"&api_type=json",more_line="<span><span id='index'>[<span style='color: #B3A600;'>"+morecount+" more comments</span>]</span><p />",t.echo(more_line,{raw:!0})}}),D=D.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),p.push(command),m+=1,c=command.join(" "),t.set_prompt(i+"@reddit:~/r/"+subreddit+"/comments$ "),t.resume()}),setTimeout(function(){v||(t.resume(),t.echo("<span style='color: #FF6868;'>error fetching data from reddit</span>",{raw:!0}))},1e4);else if(""!=b&&"reddit"==command[0]&&"view"==command[1]&&"comments"==command[2]&&"more"==command[3]&&!command[4]||""!=b&&"reddit"==command[0]&&"view"==command[1]&&"more"==command[2]&&"comments"==command[3]&&!command[4])v=!1,$.getJSON(b,function(e){v=!0,b="",link_id="",morecount=0,D=T;var n=e.json.data.things;t.echo(g,{raw:!0}),$(n).each(function(){if("t1"==this.kind){var e="";if(author=this.data.author,D.push(author),fullname=this.data.name,_.push(fullname),body=H.makeHtml(this.data.body),created=this.data.created_utc,time=moment.unix(created).fromNow(),subreddit=this.data.subreddit,x="/r/"+subreddit+"/comments",ups=this.data.ups,id=this.data.id,link_id=this.data.link_id,link_id=link_id.replace("t3_",""),""!=this.data.replies){nested_count=this.data.replies.data.children.length,line1="<div style='width:100%'><span id='index'>[<span style='color: #2C9A96;'>"+j+"</span>]</span> <span id='text-body'>"+body+"</span><br />",line2="<span style='color: #666;'>posted "+time+" by "+author+" to /r/"+subreddit+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes</span><p />",comment_url=y+id,o.push(comment_url),e=line1+line2+line3,t.echo(e,{raw:!0}),j+=1;for(var n=0,s=this.data.replies.data.children.length;s>n;n++)"t1"==this.data.replies.data.children[n].kind&&(nested_author=this.data.replies.data.children[n].data.author,nested_body=H.makeHtml(this.data.replies.data.children[n].data.body),nested_created=this.data.replies.data.children[n].data.created_utc,nested_time=moment.unix(nested_created).fromNow(),nested_ups=this.data.replies.data.children[n].data.ups,nested_count=this.data.replies.data.children[n].data.count,nested_id=this.data.replies.data.children[n].data.id,""!=this.data.replies.data.children[n].data.replies?(nested_count=this.data.replies.data.children[n].data.replies.data.children.length,nest_line1="<div style='margin-left:5%;'><span id='index'>[<span style='color: #2C9A96;'>"+j+"</span>]</span> <span id='text-body'>"+nested_body+"</span><br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes with "+nested_count+" replies</span><p/>",nested_url=y+nested_id,o.push(nested_url),j+=1,e=nest_line1+nest_line2+nest_line3,t.echo(e,{raw:!0})):(nested_count=0,nest_line1="<div style='margin-left:5%;'><span id='index'>[<span style='color: #2C9A96;'>"+j+"</span>]</span> <span id='text-body'>"+nested_body+"</span><br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes with "+nested_count+" replies</span><p/>",nested_url=y+nested_id,o.push(nested_url),j+=1,e=nest_line1+nest_line2+nest_line3,t.echo(e,{raw:!0})))}else nested_count=0,line1="<div style='width:100%'><span id='index'>[<span style='color: #2C9A96;'>"+j+"</span>]</span> <span id='text-body'>"+body+"</span><br />",line2="<span style='color: #666;'>posted "+time+" by "+author+" to /r/"+subreddit+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes with "+nested_count+" replies</span><p />",comment_url=y+id,o.push(comment_url),j+=1,e=line1+line2+line3,t.echo(e,{raw:!0})}else if("more"==this.kind){morecount=this.data.count,morename=this.data.name,moreparent=this.data.parent_id,children="";for(var n=0,s=this.data.children.length;s>n;n++)children=children+this.data.children[n]+",";children=children.replace(/(^,)|(,$)/g,""),b="https://www.reddit.com/api/morechildren.json?"+N+f+"link_id=t3_"+link_id+"&children="+children+"&id="+morename+"&api_type=json",more_line="<span><span id='index'>[<span style='color: #B3A600;'>"+morecount+" more comments</span>]</span><p />"}}),""!=b&&t.echo(more_line,{raw:!0}),D=D.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),c=command.join(" "),t.set_prompt(i+"@reddit:~/r/"+subreddit+"/comments$ "),t.resume()}),setTimeout(function(){v||(t.resume(),t.echo("<span style='color: #FF6868;'>error fetching data from reddit</span>",{raw:!0}))},1e4);else if(0!=o.index&&"reddit"==command[0]&&"view"==command[1]&&"comments"==command[2]&&"more"==command[3]&&command[4]||0!=o.index&&"reddit"==command[0]&&"view"==command[1]&&"more"==command[2]&&"comments"==command[3]&&command[4])v=!1,f=command[5]?"sort="+command[5]+"&":"",$.getJSON(o[command[4]]+"/.json?"+f+"jsonp=?",function(e){v=!0,D=T;var n=e[0].data.children;$(n).each(function(){"t3"==this.kind&&(author=this.data.author,D.push(author),created=this.data.created_utc,time=moment.unix(created).fromNow(),ups=this.data.ups,id=this.data.id,title=this.data.title,domain=this.data.domain,subreddit=this.data.subreddit,x="/r/"+subreddit+"/comments",url=this.data.url,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,line1=url?"<div style=' width: 100%;float: left;background-color: rgba(8, 171, 159, 0.14);padding: 10px;padding-bottom: 0px;margin-top: 10px;margin-bottom: 10px;'><a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&B&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),this.data.selftext&&(line1=line1+"<span style='color:#fff;padding: 10px;'>"+H.makeHtml(this.data.selftext)+"</span><br />"),line2="<span>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span>"+ups+" upvotes with "+num_comments+" comments</span><p/>",C=line1+line2+line3+"</div>",t.echo(C,{raw:!0}))});var s=e[1].data.children;$(s).each(function(){if("t1"==this.kind){var e="";if(author=this.data.author,D.push(author),fullname=this.data.name,_.push(fullname),body=H.makeHtml(this.data.body),created=this.data.created_utc,time=moment.unix(created).fromNow(),ups=this.data.ups,id=this.data.id,""!=this.data.replies){nested_count=this.data.replies.data.children.length,line1="<div style='width:100%'><span id='index'>[<span style='color: #2C9A96;'>"+j+"</span>]</span> <span id='text-body'>"+body+"</span><br />",line2="<span style='color: #666;'>posted "+time+" by "+author+" to /r/"+subreddit+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes with "+nested_count+" replies</span><p />",comment_url=y+id,o.push(comment_url),e=line1+line2+line3,t.echo(e,{raw:!0}),j+=1;for(var n=0,s=this.data.replies.data.children.length;s>n;n++)"t1"==this.data.replies.data.children[n].kind&&(nested_author=this.data.replies.data.children[n].data.author,nested_body=H.makeHtml(this.data.replies.data.children[n].data.body),nested_created=this.data.replies.data.children[n].data.created_utc,nested_time=moment.unix(nested_created).fromNow(),nested_ups=this.data.replies.data.children[n].data.ups,nested_count=this.data.replies.data.children[n].data.count,nested_id=this.data.replies.data.children[n].data.id,nested_fullname=this.data.replies.data.children[n].data.id.name,_.push(nested_fullname),""!=this.data.replies.data.children[n].data.replies?(nested_count=this.data.replies.data.children[n].data.replies.data.children.length,nest_line1="<div style='margin-left:5%;'><span id='index'>[<span style='color: #2C9A96;'>"+j+"</span>]</span> <span id='text-body'>"+nested_body+"</span><br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes with "+nested_count+" replies</span><p/>",nested_url=y+nested_id,o.push(nested_url),j+=1,e=nest_line1+nest_line2+nest_line3,t.echo(e,{raw:!0})):(nested_count=0,nest_line1="<div style='margin-left:5%;'><span id='index'>[<span style='color: #2C9A96;'>"+j+"</span>]</span> <span id='text-body'>"+nested_body+"</span><br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes with "+nested_count+" replies</span><p/>",nested_url=y+nested_id,o.push(nested_url),j+=1,e=nest_line1+nest_line2+nest_line3,t.echo(e,{raw:!0})))}else nested_count=0,line1="<div style='width:100%'><span id='index'>[<span style='color: #2C9A96;'>"+j+"</span>]</span> <span id='text-body'>"+body+"</span><br />",line2="<span style='color: #666;'>posted "+time+" by "+author+" to /r/"+subreddit+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes with "+nested_count+" replies</span><p />",comment_url=y+id,o.push(comment_url),j+=1,e=line1+line2+line3,t.echo(e,{raw:!0})}}),D=D.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),p.push(command),m+=1,c=command.join(" "),t.set_prompt(i+"@reddit:~/r/"+subreddit+"/comments$ "),t.resume()}),setTimeout(function(){v||(t.resume(),t.echo("<span style='color: #FF6868;'>error fetching data from reddit</span>",{raw:!0}))},1e4);else if(0!==r.length&&"reddit"==command[0]&&"view"==command[1]&&"content"==command[2]&&command[3]){var J=l[command[3]];J&&window.open(J),t.resume()}else"reddit"==command[0]&&"search"==command[1]&&"next"!==command[2]&&"previous"!==command[2]?(sterm=[],sterm=command,sterm.splice(0,2),searchterm=sterm.join(" "),v=!1,$.getJSON("https://www.reddit.com/search/.json?q="+encodeURIComponent(searchterm)+"&"+N+"jsonp=?",function(e){v=!0,l=[],_=[],u="",h="",k=0,D=T,r=[];var n=e.data.children;$(n).each(function(){void 0!=this.data&&(permalink="https://reddit.com"+this.data.permalink,permalink=permalink.replace("?ref=search_posts",""),url=this.data.url,l.push(url),r.push(permalink),fullname=this.data.name,_.push(fullname),title=this.data.title,domain=this.data.domain,x="/search",image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,D.push(subreddit),line1=url?"<div style='width:100%;float:left;'><span id='index'>[<span style='color: #2C9A96;'>"+k+"</span>]</span> <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&B&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,D.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",C=line1+line2+line3+"</div>",k+=1,t.echo(C,{raw:!0}))});var s=e.data.after,a=e.data.before;null!=a&&(permalink="https://www.reddit.com/search/.json?q="+encodeURIComponent(searchterm)+"&"+N+"count="+k+"&before="+a+"&jsonp=?",h=permalink,previous_line="<span><span id='index'>[<span style='color: #B3A600;'>previous</span>]</span><p />",t.echo(previous_line,{raw:!0})),null!=s&&(permalink="https://www.reddit.com/search/.json?q="+encodeURIComponent(searchterm)+"&"+N+"count="+k+"&after="+s+"&jsonp=?",u=permalink,next_line="<span><span id='index'>[<span style='color: #B3A600;'>next</span>]</span><p />",t.echo(next_line,{raw:!0})),D=D.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),c="reddit search "+searchterm,ls_state_array=c.split(" "),p.push(ls_state_array),m+=1,t.set_prompt(i+"@reddit:~/search$ "),t.resume()}),setTimeout(function(){v||(t.resume(),t.echo("<span style='color: #FF6868;'>error fetching data from reddit</span>",{raw:!0}))},1e4)):0===r.length||"reddit"!=command[0]||"search"!=command[1]||"next"!=command[2]||command[3]?0===r.length||"reddit"!=command[0]||"search"!=command[1]||"previous"!=command[2]||command[3]?"reddit"==command[0]&&"user"==command[1]&&command[2]&&!command[3]?(v=!1,$.getJSON("https://www.reddit.com/user/"+command[2]+".json?"+N+"jsonp=?",function(e){v=!0,D=T,o=[],r=[],l=[],_=[],u="",h="",j=0,k=0,x="/user/"+command[2];var n=e.data.children;$(n).each(function(){if("t3"==this.kind)permalink="https://reddit.com"+this.data.permalink,url=this.data.url,l.push(url),r.push(permalink),fullname=this.data.name,_.push(fullname),title=this.data.title,domain=this.data.domain,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,D.push(subreddit),line1=url?"<div style='width:100%;float:left;'><span id='index'>[<span style='color: #2C9A96;'>"+k+"</span>]</span> <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&B&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,D.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",C=line1+line2+line3+"</div>",k+=1,t.echo(C,{raw:!0});else if("t1"==this.kind){var e="";if(author=this.data.author,D.push(author),body=H.makeHtml(this.data.body),created=this.data.created_utc,time=moment.unix(created).fromNow(),subreddit=this.data.subreddit,D.push(subreddit),link_id=this.data.link_id,link_id=link_id.replace("t3_",""),link_id=link_id.replace("t1_",""),y="https://www.reddit.com/r/"+subreddit+"/comments/"+link_id+"/",ups=this.data.ups,id=this.data.id,""!=this.data.replies){nested_count=this.data.replies.data.children.length,line1="<div style='float: left;width: 100%;'><span id='index'>[<span style='color: #B1AB19;'>"+j+"</span>]</span> <span id='text-body'>"+body+"</span><br />",line2="<span style='color: #666;'>posted "+time+" by "+author+" to /r/"+subreddit+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes</span><p />",comment_url=y+id,o.push(comment_url),e=line1+line2+line3,t.echo(e,{raw:!0}),j+=1;for(var n=0,s=this.data.replies.data.children.length;s>n;n++)"t1"==this.data.replies.data.children[n].kind&&(nested_author=this.data.replies.data.children[n].data.author,nested_body=H.makeHtml(this.data.replies.data.children[n].data.body),nested_created=this.data.replies.data.children[n].data.created_utc,nested_time=moment.unix(nested_created).fromNow(),nested_ups=this.data.replies.data.children[n].data.ups,nested_count=this.data.replies.data.children[n].data.count,nested_id=this.data.replies.data.children[n].data.id,""!=this.data.replies.data.children[n].data.replies?(nested_count=this.data.replies.data.children[n].data.replies.data.children.length,nest_line1="<div style='float: left;width: 100%;'><span id='index'>[<span style='color: #2C9A96;'>"+j+"</span>]</span> <span id='text-body'>"+nested_body+"</span><br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes</span><p/>",nested_url=y+nested_id,o.push(nested_url),j+=1,e=nest_line1+nest_line2+nest_line3,t.echo(e,{raw:!0})):(nested_count=0,nest_line1="<div style='margin-top:2%;float: left;width: 100%;><span id='index'>[<span style='color: #2C9A96;'>"+j+"</span>]</span> <span id='text-body'>"+nested_body+"</span><br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes</span><p/>",nested_url=y+nested_id,o.push(nested_url),j+=1,e=nest_line1+nest_line2+nest_line3,t.echo(e,{raw:!0})))}else nested_count=0,line1="<div style='float: left;width: 100%;'><span id='index'>[<span style='color: #B1AB19;'>"+j+"</span>]</span> <span id='text-body'>"+body+"</span><br />",line2="<span style='color: #666;'>posted "+time+" by "+author+" to /r/"+subreddit+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes</span><p />",comment_url=y+id,o.push(comment_url),j+=1,e=line1+line2+line3,t.echo(e,{raw:!0})}});var s=e.data.after,a=e.data.before;null!=a&&(permalink="https://www.reddit.com/user/"+command[2]+".json?"+N+"count="+k+"&before="+a+"&jsonp=?",h=permalink,previous_line="<span><span id='index'>[<span style='color: #B3A600;'>previous</span>]</span><p />",t.echo(previous_line,{raw:!0})),null!=s&&(permalink="https://www.reddit.com/user/"+command[2]+".json?"+N+"count="+k+"&after="+s+"&jsonp=?",u=permalink,next_line="<span><span id='index'>[<span style='color: #B3A600;'>next</span>]</span><p />",t.echo(next_line,{raw:!0})),D=D.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),p.push(command),m+=1,c=command.join(" "),t.set_prompt(i+"@reddit:~/user/"+author+"$ "),t.resume()}),setTimeout(function(){v||(t.resume(),t.echo("<span style='color: #FF6868;'>error fetching data from reddit</span>",{raw:!0}))},1e4)):0!==r.length&&"reddit"==command[0]&&"user"==command[1]&&command[2]&&"next"==command[3]||0!==o.length&&"reddit"==command[0]&&"user"==command[1]&&command[2]&&"next"==command[3]?(v=!1,$.getJSON(u,function(e){v=!0,h="",D=T;var n=e.data.children;$(n).each(function(){if("t3"==this.kind)permalink="https://reddit.com"+this.data.permalink,url=this.data.url,l.push(url),r.push(permalink),fullname=this.data.name,_.push(fullname),title=this.data.title,domain=this.data.domain,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,D.push(subreddit),line1=url?"<div style='width:100%;float:left;'><span id='index'>[<span style='color: #2C9A96;'>"+k+"</span>]</span> <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&B&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,D.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",C=line1+line2+line3+"</div>",k+=1,t.echo(C,{raw:!0});else if("t1"==this.kind){var e="";if(author=this.data.author,D.push(author),body=H.makeHtml(this.data.body),created=this.data.created_utc,time=moment.unix(created).fromNow(),subreddit=this.data.subreddit,D.push(subreddit),link_id=this.data.link_id,link_id=link_id.replace("t3_",""),link_id=link_id.replace("t1_",""),y="https://www.reddit.com/r/"+subreddit+"/comments/"+link_id+"/",ups=this.data.ups,id=this.data.id,""!=this.data.replies){nested_count=this.data.replies.data.children.length,line1="<div style='float: left;width: 100%;'><span id='index'>[<span style='color: #B1AB19;'>"+j+"</span>]</span> <span id='text-body'>"+body+"</span><br />",line2="<span style='color: #666;'>posted "+time+" by "+author+" to /r/"+subreddit+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes</span><p />",comment_url=y+id,o.push(comment_url),e=line1+line2+line3,t.echo(e,{raw:!0}),j+=1;for(var n=0,s=this.data.replies.data.children.length;s>n;n++)"t1"==this.data.replies.data.children[n].kind&&(nested_author=this.data.replies.data.children[n].data.author,nested_body=H.makeHtml(this.data.replies.data.children[n].data.body),nested_created=this.data.replies.data.children[n].data.created_utc,nested_time=moment.unix(nested_created).fromNow(),nested_ups=this.data.replies.data.children[n].data.ups,nested_count=this.data.replies.data.children[n].data.count,nested_id=this.data.replies.data.children[n].data.id,""!=this.data.replies.data.children[n].data.replies?(nested_count=this.data.replies.data.children[n].data.replies.data.children.length,nest_line1="<div style='float: left;width: 100%;'><span id='index'>[<span style='color: #2C9A96;'>"+j+"</span>]</span> <span id='text-body'>"+nested_body+"</span><br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes</span><p/>",nested_url=y+nested_id,o.push(nested_url),j+=1,e=nest_line1+nest_line2+nest_line3,t.echo(e,{raw:!0})):(nested_count=0,nest_line1="<div style='margin-top:2%;float: left;width: 100%;><span id='index'>[<span style='color: #2C9A96;'>"+j+"</span>]</span> <span id='text-body'>"+nested_body+"</span><br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes</span><p/>",nested_url=y+nested_id,o.push(nested_url),j+=1,e=nest_line1+nest_line2+nest_line3,t.echo(e,{raw:!0})))}else nested_count=0,line1="<div style='float: left;width: 100%;'><span id='index'>[<span style='color: #B1AB19;'>"+j+"</span>]</span> <span id='text-body'>"+body+"</span><br />",line2="<span style='color: #666;'>posted "+time+" by "+author+" to /r/"+subreddit+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes</span><p />",comment_url=y+id,o.push(comment_url),j+=1,e=line1+line2+line3,t.echo(e,{raw:!0})}});var s=e.data.after,a=e.data.before;null!=a&&(permalink="https://www.reddit.com/user/"+command[2]+".json?"+N+"count="+k+"&before="+a+"&jsonp=?",h=permalink,previous_line="<span><span id='index'>[<span style='color: #B3A600;'>previous</span>]</span><p />",t.echo(previous_line,{raw:!0})),null!=s&&(permalink="https://www.reddit.com/user/"+command[2]+".json?"+N+"count="+k+"&after="+s+"&jsonp=?",u=permalink,next_line="<span><span id='index'>[<span style='color: #B3A600;'>next</span>]</span><p />",t.echo(next_line,{raw:!0})),D=D.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),c=command.join(" "),t.set_prompt(i+"@reddit:~/user/"+author+"$ "),t.resume()}),setTimeout(function(){v||(t.resume(),t.echo("<span style='color: #FF6868;'>error fetching data from reddit</span>",{raw:!0}))},1e4)):0!==r.length&&"reddit"==command[0]&&"user"==command[1]&&command[2]&&"previous"==command[3]||0!==o.length&&"reddit"==command[0]&&"user"==command[1]&&command[2]&&"previous"==command[3]?(v=!1,$.getJSON(h,function(e){v=!0,u="",D=T;var n=e.data.children;$(n).each(function(){if("t3"==this.kind)permalink="https://reddit.com"+this.data.permalink,url=this.data.url,l.push(url),r.push(permalink),fullname=this.data.name,_.push(fullname),title=this.data.title,domain=this.data.domain,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,D.push(subreddit),line1=url?"<div style='width:100%;float:left;'><span id='index'>[<span style='color: #2C9A96;'>"+k+"</span>]</span> <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&B&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,D.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",C=line1+line2+line3+"</div>",k-=1,t.echo(C,{raw:!0});else if("t1"==this.kind){var e="";if(author=this.data.author,D.push(author),body=H.makeHtml(this.data.body),created=this.data.created_utc,time=moment.unix(created).fromNow(),subreddit=this.data.subreddit,D.push(subreddit),link_id=this.data.link_id,link_id=link_id.replace("t3_",""),link_id=link_id.replace("t1_",""),y="https://www.reddit.com/r/"+subreddit+"/comments/"+link_id+"/",ups=this.data.ups,id=this.data.id,""!=this.data.replies){nested_count=this.data.replies.data.children.length,line1="<div style='float: left;width: 100%;'><span id='index'>[<span style='color: #B1AB19;'>"+j+"</span>]</span> <span id='text-body'>"+body+"</span><br />",line2="<span style='color: #666;'>posted "+time+" by "+author+" to /r/"+subreddit+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes</span><p />",comment_url=y+id,o.push(comment_url),e=line1+line2+line3,t.echo(e,{raw:!0}),j-=1;for(var n=0,s=this.data.replies.data.children.length;s>n;n++)"t1"==this.data.replies.data.children[n].kind&&(nested_author=this.data.replies.data.children[n].data.author,nested_body=H.makeHtml(this.data.replies.data.children[n].data.body),nested_created=this.data.replies.data.children[n].data.created_utc,nested_time=moment.unix(nested_created).fromNow(),nested_ups=this.data.replies.data.children[n].data.ups,nested_count=this.data.replies.data.children[n].data.count,nested_id=this.data.replies.data.children[n].data.id,""!=this.data.replies.data.children[n].data.replies?(nested_count=this.data.replies.data.children[n].data.replies.data.children.length,nest_line1="<div style='float: left;width: 100%;'><span id='index'>[<span style='color: #2C9A96;'>"+j+"</span>]</span> <span id='text-body'>"+nested_body+"</span><br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes</span><p/>",nested_url=y+nested_id,o.push(nested_url),j-=1,e=nest_line1+nest_line2+nest_line3,t.echo(e,{raw:!0})):(nested_count=0,nest_line1="<div style='margin-top:2%;float: left;width: 100%;><span id='index'>[<span style='color: #2C9A96;'>"+j+"</span>]</span> <span id='text-body'>"+nested_body+"</span><br />",nest_line2="<span style='color: #666;'>posted "+nested_time+" by "+nested_author+"</span><br/>",nest_line3="<span style='color: #666;'>"+nested_ups+" upvotes</span><p/>",nested_url=y+nested_id,o.push(nested_url),j-=1,e=nest_line1+nest_line2+nest_line3,t.echo(e,{raw:!0})))}else nested_count=0,line1="<div style='float: left;width: 100%;'><span id='index'>[<span style='color: #B1AB19;'>"+j+"</span>]</span> <span id='text-body'>"+body+"</span><br />",line2="<span style='color: #666;'>posted "+time+" by "+author+" to /r/"+subreddit+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes</span><p />",comment_url=y+id,o.push(comment_url),j-=1,e=line1+line2+line3,t.echo(e,{raw:!0})}});var s=e.data.after,a=e.data.before;null!=a&&(permalink="https://www.reddit.com/user/"+command[2]+".json?"+N+"count="+k+"&before="+a+"&jsonp=?",h=permalink,previous_line="<span><span id='index'>[<span style='color: #B3A600;'>previous</span>]</span><p />",t.echo(previous_line,{raw:!0})),null!=s&&(permalink="https://www.reddit.com/user/"+command[2]+".json?"+N+"count="+k+"&after="+s+"&jsonp=?",u=permalink,next_line="<span><span id='index'>[<span style='color: #B3A600;'>next</span>]</span><p />",t.echo(next_line,{raw:!0})),D=D.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),c=command.join(" "),t.set_prompt(i+"@reddit:~/user/"+author+"$ "),t.resume()}),setTimeout(function(){v||(t.resume(),t.echo("<span style='color: #FF6868;'>error fetching data from reddit</span>",{raw:!0}))},1e4)):a!==!1&&0!==_.length&&"reddit"==command[0]&&"upvote"==command[1]&&command[2]&&!command[3]?(v=!1,$.ajax({url:"https://oauth.reddit.com/api/vote.json",type:"POST",dataType:"json",data:{dir:"1",id:_[command[2]],uh:""},beforeSend:function(e){e.setRequestHeader("Authorization","bearer "+a)},success:function(){v=!0,t.echo("successfully upvoted post <strong>"+command[2]+"</strong>",{raw:!0}),t.resume()},error:function(){v=!1,t.echo("<span style='color: #FF6868;'>error - you may need to re-authorize reddit shell by typing login</span>",{raw:!0}),t.resume()}})):a!==!1&&0!==_.length&&"reddit"==command[0]&&"downvote"==command[1]&&command[2]&&!command[3]?(v=!1,$.ajax({url:"https://oauth.reddit.com/api/vote.json",type:"POST",dataType:"json",data:{dir:"-1",id:_[command[2]],uh:""},beforeSend:function(e){e.setRequestHeader("Authorization","bearer "+a)},success:function(){t.echo("successfully downvoted post <strong>"+command[2]+"</strong>",{raw:!0}),v=!0,t.resume()},error:function(){v=!1,t.echo("<span style='color: #FF6868;'>error - you may need to re-authorize reddit shell by typing login</span>",{raw:!0}),t.resume()}})):a!==!1&&""!==w&&"reddit"==command[0]&&"post"==command[1]&&"comment"==command[2]&&command[3]?(ctext=[],ctext=command,ctext.splice(0,3),ctext=ctext.join(" "),$.ajax({url:"https://oauth.reddit.com/api/comment.json",type:"POST",dataType:"json",data:{api_type:"json",thing_id:w,text:ctext,uh:""},beforeSend:function(e){e.setRequestHeader("Authorization","bearer "+a)},success:function(e){v=!0,commentresult=e.json.data.things,t.echo(g,{raw:!0}),$(commentresult).each(function(){"t1"==this.kind&&(author=this.data.author,fullname=this.data.name,body=H.makeHtml(this.data.body),created=this.data.created_utc,time=moment.unix(created).fromNow(),subreddit=this.data.subreddit,x="/r/"+subreddit+"/comments",ups=this.data.ups,id=this.data.id,line1="<div style='width:100%;margin-left:5%;'><span id='text-body'>"+body+"</span><br />",line2="<span style='color: #666;'>posted "+time+" by "+author+" to /r/"+subreddit+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes</span><p />",comment_url=y+id,o.push(comment_url),reply_message=line1+line2+line3,t.echo(reply_message,{raw:!0}),t.set_prompt(i+"@reddit:~/r/"+subreddit+"/comments$ "))}),t.resume()},error:function(){v=!1,t.echo("<span style='color: #FF6868;'>error - you may need to re-authorize reddit shell by typing login</span>",{raw:!0}),t.resume()}})):a!==!1&&0!==_.length&&"reddit"==command[0]&&"post"==command[1]&&"reply"==command[2]&&command[3]&&command[4]?(scope_id=_[command[3]],ctext=[],ctext=command,ctext.splice(0,4),ctext=ctext.join(" "),$.ajax({url:"https://oauth.reddit.com/api/comment.json",type:"POST",dataType:"json",data:{api_type:"json",thing_id:scope_id,text:ctext,uh:""},beforeSend:function(e){e.setRequestHeader("Authorization","bearer "+a)},success:function(e){v=!0,commentresult=e.json.data.things,$(commentresult).each(function(){"t1"==this.kind&&(author=this.data.author,fullname=this.data.name,body=H.makeHtml(this.data.body),created=this.data.created_utc,time=moment.unix(created).fromNow(),subreddit=this.data.subreddit,x="/r/"+subreddit+"/comments",ups=this.data.ups,id=this.data.id,line1="<div style='width:100%;margin-top:1%;'><span id='text-body'>"+body+"</span><br />",line2="<span style='color: #666;'>posted "+time+" by "+author+" to /r/"+subreddit+"</span><br/>",line3="<span style='color: #666;'>"+ups+" upvotes</span><p />",comment_url=y+id,o.push(comment_url),reply_message=line1+line2+line3,t.echo(reply_message,{raw:!0}),t.set_prompt(i+"@reddit:~/r/"+subreddit+"/comments$ "))}),t.resume()},error:function(){v=!1,t.echo("<span style='color: #FF6868;'>error - you may need to re-authorize reddit shell by typing login</span>",{raw:!0}),t.resume()}})):"login"==command[1]?window.location.replace("https://redditshell.com/auth"):"logout"==command[1]&&a?window.location.replace("https://redditshell.com/"):"pwd"==e?(t.echo(x,{raw:!0}),t.resume()):"cat README"==e||"cat readme"==e||"readme"==e||"help"==e?(s(t),t.resume()):"settings images"==e||"set img"==e||"set images"==e||"settings img"==e?B?(t.echo("display images is currently <strong>on</strong>",{raw:!0}),t.resume()):(t.echo("display images is currently <strong>off</strong>",{raw:!0}),t.resume()):"settings images on"==e||"set img on"==e?(B=!0,t.echo("display images turned <strong>on</strong>",{raw:!0}),t.resume()):"settings images off"==e||"set img off"==e?(B=!1,t.echo("display images turned <strong>off</strong>",{raw:!0}),t.resume()):"settings limit"==e||"set limit"==e?(t.echo("current limit set to: "+S,{raw:!0}),t.resume()):"settings"==command[1]&&"limit"==command[2]&&command[3]?"auto"==command[3]?(F=$(window.top).height(),N="limit="+(Math.round(F/54)-3)+"&",S="auto ("+(Math.round(F/54)-3)+")",t.echo("limit set to auto",{raw:!0}),t.resume()):command[3]<=100?(N="limit="+command[3]+"&",S=command[3],t.echo("limit set to "+command[3],{raw:!0}),t.resume()):(t.echo("limit cannot exceed 100",{raw:!0}),t.resume()):"about"==e?(n(t),t.resume()):e.indexOf("rm -rf")>-1||e.indexOf(":(){: | :&}")>-1||e.indexOf("{:(){ :|: & };:")>-1||e.indexOf("command > /dev/sda")>-1||e.indexOf("mkfs.ext4 /dev/sda1")>-1||e.indexOf("dd if=/dev/random")>-1||e.indexOf("mv ~ /dev/null")>-1||e.indexOf("wget http")>-1||e.indexOf("sudo make me a sandwich")>-1?(t.echo("<img src='css/newman.gif' /><p />",{raw:!0}),t.resume()):(t.echo("command not recognized",{raw:!0}),t.resume()):(v=!1,$.getJSON(h,function(e){v=!0,u="",D=T;
var n=e.data.children;$(n).each(function(){void 0!=this.data&&(permalink="https://reddit.com"+this.data.permalink,permalink=permalink.replace("?ref=search_posts",""),url=this.data.url,l.push(url),r.push(permalink),fullname=this.data.name,_.push(fullname),title=this.data.title,domain=this.data.domain,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,D.push(subreddit),line1=url?"<div style='width:100%;float:left;'><span id='index'>[<span style='color: #2C9A96;'>"+k+"</span>]</span> <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&B&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,D.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",C=line1+line2+line3+"</div>",k-=1,t.echo(C,{raw:!0}))});var s=e.data.after,a=e.data.before;null!=a&&(permalink="https://www.reddit.com/search/.json?q="+encodeURIComponent(searchterm)+"&"+N+"count="+k+"&before="+a+"&jsonp=?",h=permalink,previous_line="<span><span id='index'>[<span style='color: #B3A600;'>previous</span>]</span><p />",t.echo(previous_line,{raw:!0})),null!=s&&(permalink="https://www.reddit.com/search/.json?q="+encodeURIComponent(searchterm)+"&"+N+"count="+k+"&after="+s+"&jsonp=?",u=permalink,next_line="<span><span id='index'>[<span style='color: #B3A600;'>next</span>]</span><p />",t.echo(next_line,{raw:!0})),D=D.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),c=command.join(" "),t.set_prompt(i+"@reddit:~/search$ "),t.resume()}),setTimeout(function(){v||(t.resume(),t.echo("<span style='color: #FF6868;'>error fetching data from reddit</span>",{raw:!0}))},1e4)):(v=!1,$.getJSON(u,function(e){v=!0,h="",D=T;var n=e.data.children;$(n).each(function(){void 0!=this.data&&(permalink="https://reddit.com"+this.data.permalink,permalink=permalink.replace("?ref=search_posts",""),url=this.data.url,l.push(url),r.push(permalink),fullname=this.data.name,_.push(fullname),title=this.data.title,domain=this.data.domain,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,D.push(subreddit),line1=url?"<div style='width:100%;float:left;'><span id='index'>[<span style='color: #2C9A96;'>"+k+"</span>]</span> <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&B&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,D.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",C=line1+line2+line3+"</div>",k+=1,t.echo(C,{raw:!0}))});var s=e.data.after,a=e.data.before;null!=a&&(permalink="https://www.reddit.com/search/.json?q="+encodeURIComponent(searchterm)+"&"+N+"count="+k+"&before="+a+"&jsonp=?",h=permalink,previous_line="<span><span id='index'>[<span style='color: #B3A600;'>previous</span>]</span><p />",t.echo(previous_line,{raw:!0})),null!=s&&(permalink="https://www.reddit.com/search/.json?q="+encodeURIComponent(searchterm)+"&"+N+"count="+k+"&after="+s+"&jsonp=?",u=permalink,next_line="<span><span id='index'>[<span style='color: #B3A600;'>next</span>]</span><p />",t.echo(next_line,{raw:!0})),D=D.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),t.set_prompt(i+"@reddit:~/search$ "),t.resume()}),setTimeout(function(){v||(t.resume(),t.echo("<span style='color: #FF6868;'>error fetching data from reddit</span>",{raw:!0}))},1e4));else v=!1,$.getJSON("https://www.reddit.com/subreddits/.json?"+N+"jsonp=?",function(e){x="/subreddits",D=T,d=[],u="",h="",A=0,v=!0;var n=e.data.children;$(n).each(function(){void 0!=this.data&&(url=this.data.url,display_name=this.data.display_name,D.push(display_name),title=this.data.title,line1="<div style='width:100%;float:left;'><span id='index'>[<span style='color: #2C9A96;'>"+A+"</span>]</span> <a href='https://reddit.com"+url+"' target='_blank'>/r/"+display_name+" - "+title+"</a><br />",description=this.data.public_description,line2="<span style='color: #666;'>"+description+"</span><br />",subscribers=this.data.subscribers,created=this.data.created_utc,time=moment.unix(created).fromNow(),line3="<span style='color: #666;'>"+subscribers+" subscribers since starting "+time+"</span><p />",C=line1+line2+line3+"</div>",A+=1,t.echo(C,{raw:!0}))});var s=e.data.after,a=e.data.before;null!=a&&(permalink="https://www.reddit.com/subreddits/.json?"+N+"count="+A+"&before="+a+"&jsonp=?",h=permalink,previous_line="<span><span id='index'>[<span style='color: #B3A600;'>previous</span>]</span><p />",t.echo(previous_line,{raw:!0})),null!=s&&(permalink="https://www.reddit.com/subreddits/.json?"+N+"count="+A+"&after="+s+"&jsonp=?",u=permalink,next_line="<span><span id='index'>[<span style='color: #B3A600;'>next</span>]</span><p />",t.echo(next_line,{raw:!0})),D=D.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),t.set_prompt(i+"@reddit:~/subreddits$ "),t.resume(),c=command.join(" ")}),setTimeout(function(){v||(t.resume(),t.echo("<span style='color: #FF6868;'>error fetching data from reddit</span>",{raw:!0}))},1e4);else v=!1,$.getJSON(h,function(e){u="",D=T,v=!0;var n=e.data.children;$(n).each(function(){void 0!=this.data&&(permalink="https://reddit.com"+this.data.permalink,url=this.data.url,l.push(url),r.push(permalink),fullname=this.data.name,_.push(fullname),title=this.data.title,domain=this.data.domain,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,D.push(subreddit),line1=url?"<div style='width:100%;float:left;'><span id='index'>[<span style='color: #2C9A96;'>"+k+"</span>]</span> <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&B&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,D.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",C=line1+line2+line3+"</div>",k-=1,t.echo(C,{raw:!0}))});var s=e.data.after,a=e.data.before;null!=a&&(permalink="https://www.reddit.com/.json?"+N+"count="+k+"&before="+a+"&jsonp=?",h=permalink,previous_line="<span><span id='index'>[<span style='color: #B3A600;'>previous</span>]</span><p />",t.echo(previous_line,{raw:!0})),null!=s&&(permalink="https://www.reddit.com/.json?"+N+"count="+k+"&after="+s+"&jsonp=?",u=permalink,next_line="<span><span id='index'>[<span style='color: #B3A600;'>next</span>]</span><p />",t.echo(next_line,{raw:!0})),D=D.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),t.set_prompt(i+"@reddit:~$ "),t.resume(),c=command.join(" ")}),setTimeout(function(){v||(t.resume(),t.echo("<span style='color: #FF6868;'>error fetching data from reddit</span>",{raw:!0}))},1e4);else v=!1,$.getJSON(u,function(e){h="",D=T,v=!0;var n=e.data.children;$(n).each(function(){void 0!=this.data&&(permalink="https://reddit.com"+this.data.permalink,url=this.data.url,l.push(url),r.push(permalink),fullname=this.data.name,_.push(fullname),title=this.data.title,domain=this.data.domain,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,D.push(subreddit),line1=url?"<div style='width:100%;float:left;'><span id='index'>[<span style='color: #2C9A96;'>"+k+"</span>]</span> <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&B&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,D.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",C=line1+line2+line3+"</div>",k+=1,t.echo(C,{raw:!0}))});var s=e.data.after,a=e.data.before;null!=a&&(permalink="https://www.reddit.com/.json?"+N+"count="+k+"&before="+a+"&jsonp=?",h=permalink,previous_line="<span><span id='index'>[<span style='color: #B3A600;'>previous</span>]</span><p />",t.echo(previous_line,{raw:!0})),null!=s&&(permalink="https://www.reddit.com/.json?"+N+"count="+k+"&after="+s+"&jsonp=?",u=permalink,next_line="<span><span id='index'>[<span style='color: #B3A600;'>next</span>]</span><p />",t.echo(next_line,{raw:!0})),D=D.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),t.set_prompt(i+"@reddit:~$ "),t.resume(),c=command.join(" ")}),setTimeout(function(){v||(t.resume(),t.echo("<span style='color: #FF6868;'>error fetching data from reddit</span>",{raw:!0}))},1e4);else v=!1,$.getJSON("https://www.reddit.com/.json?"+N+"jsonp=?",function(e){v=!0,x="/",r=[],o=[],d=[],l=[],_=[],u="",h="",f="",b="",y="",g="",w="",k=0,j=0,A=0,O=0;var n=e.data.children;$(n).each(function(){void 0!=this.data&&(permalink="https://reddit.com"+this.data.permalink,url=this.data.url,l.push(url),r.push(permalink),fullname=this.data.name,_.push(fullname),title=this.data.title,domain=this.data.domain,image=this.data.thumbnail&&this.data.thumbnail.indexOf("http")>-1?this.data.thumbnail:!1,subreddit=this.data.subreddit,D.push(subreddit),line1=url?"<div style='width:100%;float:left;'><span id='index'>[<span style='color: #2C9A96;'>"+k+"</span>]</span> <a href='"+url+"' target='_blank'>"+title+"</a> ("+domain+")<br />":title+" ("+domain+")<br />",image&&B&&(line1=line1+"<img src='"+image+"' style='float: left;margin: 10px;' /><br />"),created=this.data.created_utc,time=moment.unix(created).fromNow(),author=this.data.author,D.push(author),line2="<span style='color: #666;'>submitted "+time+" by "+author+" to /r/"+subreddit+"</span><br />",ups=this.data.ups,num_comments=this.data.num_comments,line3="<span style='color: #666;'>"+ups+" upvotes with "+num_comments+" comments</span><p/>",C=line1+line2+line3+"</div>",k+=1,t.echo(C,{raw:!0}))});var s=e.data.after,a=e.data.before;null!=a&&(permalink="https://www.reddit.com/.json?"+N+"count="+k+"&before="+a+"&jsonp=?",h=permalink,previous_line="<span><span id='index'>[<span style='color: #B3A600;'>previous</span>]</span><p />",t.echo(previous_line,{raw:!0})),null!=s&&(permalink="https://www.reddit.com/.json?"+N+"count="+k+"&after="+s+"&jsonp=?",u=permalink,next_line="<span><span id='index'>[<span style='color: #B3A600;'>next</span>]</span><p />",t.echo(next_line,{raw:!0})),D=D.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),c=command.join(" "),t.set_prompt(i+"@reddit:~$ "),t.resume()}),setTimeout(function(){v||(t.resume(),t.echo("<span style='color: #FF6868;'>error fetching data from reddit</span>",{raw:!0}))},1e4)},{name:"redditshell",greetings:null,completion:function(e,t,n){n(D)},onInit:function(e){location.search.split("token=")[1]?(a=location.search.split("token=")[1],$.ajax({url:"https://oauth.reddit.com/api/v1/me.json",dataType:"json",beforeSend:function(e){e.setRequestHeader("Authorization","bearer "+a)},success:function(n){i=n.name,link_karma=n.link_karma,comment_karma=n.comment_karma,created=n.created_utc,time=moment.unix(created).fromNow(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(e.echo("commands: ls, ls [subreddit] [next|previous], view comments [index], view more comments [index], search, user, settings",{raw:!0}),e.echo("warning: reddit shell may not work on all mobile devices",{raw:!0}),e.set_prompt(i+"@reddit:~$ "),e.echo("authenticated user: <strong>"+i+"</strong>, link karma: <strong>"+link_karma+"</strong>, comment karma: <strong>"+comment_karma+"</strong>, account created: <strong>"+time+"</strong>",{raw:!0}),e.resume(),$(".clipboard").focus()):(t(e),e.set_prompt(i+"@reddit:~$ "),e.echo("authenticated user: <strong>"+i+"</strong>, link karma: <strong>"+link_karma+"</strong>, comment karma: <strong>"+comment_karma+"</strong>, account created: <strong>"+time+"</strong>",{raw:!0}),e.resume(),$(".clipboard").focus())},error:function(){e.echo("<span style='color: #FF6868;'>error - you may need to re-authorize reddit shell by typing login</span>",{raw:!0})}})):/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(e.echo("commands: ls, ls [subreddit] [next|previous], view comments [index], view more comments [index], search, user, settings",{raw:!0}),e.echo("warning: reddit shell may not work on all mobile devices",{raw:!0}),e.set_prompt(i+"@reddit:~$ "),e.resume(),$(".clipboard").focus()):(t(e),e.set_prompt(i+"@reddit:~$ "),e.resume(),$(".clipboard").focus())},onBlur:function(){return!1},keydown:function(){return C?!1:void 0}})});